"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6430,9043,1534],{9043:function(t,i,e){e.r(i),e.d(i,{buildings:function(){return o},woodland:function(){return n},woodlandEdge:function(){return a}});var n=1,a=2,o=3},6430:function(t,i,e){e.r(i),e.d(i,{default:function(){return u}});var n=e(8130),a=e.n(n),o=e(5137),r=e(9043),d=e(1534);function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function h(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var u=function t(i,e,n){arguments.length>3&&void 0!==arguments[3]||(a().rangeFloor(0,e.gridSize-1),a().rangeFloor(0,e.gridSize-1));var u=this;s(this,t),h(this,"runNumber",0),h(this,"lookAroundSize",4),h(this,"buildingFound",!1),h(this,"setPos",(function(t){u.x=t[0],u.y=t[1]})),h(this,"get0tile",(function(){var t=!1;do{var i=a().rangeFloor(0,u.env.gridSize-1),e=a().rangeFloor(0,u.env.gridSize-1);u.habitat.getHabitat(i,e)!==r.woodlandEdge&&u.habitat.getHabitat(i,e)!==r.woodland&&u.habitat.getHabitat(i,e)!==r.buildings&&(u.setPos([i,e]),t=!0)}while(!0!==t)})),h(this,"findDeepWoodland",(function(){var t=!1;do{var i=a().rangeFloor(0,u.env.gridSize-1),e=a().rangeFloor(0,u.env.gridSize-1);u.habitat.getHabitat(i,e)!==r.woodlandEdge&&u.habitat.getHabitat(i,e)!==r.buildings&&0!==u.habitat.getHabitat(i,e)&&(u.setPos([i,e]),t=!0)}while(!0!==t)})),h(this,"getInfo",(function(){return{id:u.id,x:u.x,y:u.y,width:u.size,height:u.size,species:u.species}})),h(this,"tick",(function(t){u.move(),u.draw()})),h(this,"checkAndEatBat",(function(t){for(var i=0;i<t.length;i++)u.x===t[i].getInfo().x&&u.y===t[i].getInfo().y&&(0,d.getRandomInt)(0,10)>5&&t[i].die()})),h(this,"move",(function(){var t=!1,i=0,e=0;do{i=u.x+a().pick([-u.env.moveDistance,0,u.env.moveDistance]),e=u.y+a().pick([-u.env.moveDistance,0,u.env.moveDistance]),u.avoidEdges(i,e)&&u.avoidBadHabitats(i,e)&&(u.x=i,u.y=e,t=!0)}while(!0!==t)})),h(this,"avoidBadHabitats",(function(t,i){return u.habitat.getHabitat(t,i)!==r.buildings&&u.habitat.getHabitat(t,i)!==r.woodlandEdge&&u.habitat.getHabitat(t,i)!==r.woodlandEdge})),h(this,"avoidEdges",(function(t,i){var e=t>0&&t<u.env.gridSize,n=i>0&&i<u.env.gridSize;return e&&n})),h(this,"searchForBuildingProximity",(function(t,i){for(var e=i-u.lookAroundSize;e<i+u.lookAroundSize+1;e++)for(var n=t-u.lookAroundSize;n<t+u.lookAroundSize+1;n++)if(u.habitat.getHabitat(n,e)===r.buildings)return!0;return!1})),h(this,"draw",(function(){u.ctx.beginPath();var t=u.x/(u.env.gridSize-1),i=u.y/(u.env.gridSize-1);u.ctx.arc(u.env.marginX+(0,o.lerp)(0,u.env.height,t)-u.size/2,(0,o.lerp)(0,u.env.height,i),u.size,0,2*Math.PI),u.ctx.fillStyle="#FCEB0B",u.ctx.fill()})),this.ctx=i,this.env=e,this.size=2,this.width=this.size,this.height=this.size,this.habitat=n,this.id=Math.random(),this.timestamp=0,this.lastTimestamp=0,this.get0tile()}},1534:function(t,i,e){e.r(i),e.d(i,{drawGradientBackground:function(){return o},getRandomInt:function(){return a},test:function(){return n}});var n=function(){console.log("test")},a=function(t,i){return t=Math.ceil(t),i=Math.floor(i),Math.floor(Math.random()*(i-t+1))+t},o=function(t,i,e){var n=t.color(i),a=t.color(e);n.setAlpha(20),a.setAlpha(20);for(var o=0;o<t.width+1;o++){var r=t.map(o,0,t.width,0,1),d=t.lerpColor(n,a,r);t.stroke(d),t.line(o,-1,o,t.height),t.pop()}}}}]);