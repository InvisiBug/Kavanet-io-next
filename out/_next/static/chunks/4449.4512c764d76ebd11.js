"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4449,9043],{4449:function(i,e,t){t.r(e),t.d(e,{default:function(){return o}});var n=t(8130),s=t.n(n),a=t(5137),r=t(9043);function h(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function c(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var o=function i(e,t,n){arguments.length>3&&void 0!==arguments[3]||(s().rangeFloor(0,t.gridSize-1),s().rangeFloor(0,t.gridSize-1));var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s().pick([1,2,3]),l=this;h(this,i),c(this,"runNumber",0),c(this,"setPos",(function(i){l.x=i[0],l.y=i[1]})),c(this,"getInfo",(function(){return{x:l.x,y:l.y,width:l.size,height:l.size,id:l.id,species:l.species}})),c(this,"get0tile",(function(){var i=!1;do{var e=s().rangeFloor(0,l.env.gridSize-1),t=s().rangeFloor(0,l.env.gridSize-1);l.habitat.getHabitat(e,t)!==r.woodlandEdge&&l.habitat.getHabitat(e,t)!==r.woodland&&l.habitat.getHabitat(e,t)!==r.buildings&&(l.setPos([e,t]),i=!0)}while(!0!==i)})),c(this,"tick",(function(i){l.runNumber+=1,l.alive&&(l.nest||(l.setPos([l.x+s().pick([-l.env.moveDistance,0,l.env.moveDistance]),l.y+s().pick([-l.env.moveDistance,0,l.env.moveDistance])]),l.detectWalls(),l.checkForNest()),l.draw())})),c(this,"checkForNest",(function(){l.habitat.getHabitat(l.x,l.y)===l.species&&(l.nest=!0)})),c(this,"checkForSuitableNest",(function(){if(l.habitat.getHabitat(l.x,l.y)===l.species)return!0})),c(this,"die",(function(){l.alive=!1})),c(this,"draw",(function(){l.ctx.beginPath();var i=l.x/(l.env.gridSize-1),e=l.y/(l.env.gridSize-1);l.ctx.arc(l.env.marginX+(0,a.lerp)(0,l.env.height,i)-l.size/2,(0,a.lerp)(0,l.env.height,e),l.size,0,2*Math.PI),l.ctx.fillStyle=1===l.species?"#A51401":2===l.species?"#FBFB39":3===l.species?"#081CA1":"#ffffff",l.ctx.fill()})),c(this,"detectWalls",(function(){l.x<0?l.x=0:l.x>l.env.gridSize-1?l.x=l.env.gridSize-1:l.y<0?l.y=0:l.y>l.env.gridSize-1&&(l.y=l.env.gridSize-1)})),this.ctx=e,this.env=t,this.size=2,this.width=this.size,this.height=this.size,this.habitat=n,this.species=o,this.id=Math.random(),this.nest=!1,this.alive=!0,this.life=10,this.timestamp=0,this.lastTimestamp=0,this.get0tile(),this.draw()}},9043:function(i,e,t){t.r(e),t.d(e,{buildings:function(){return a},woodland:function(){return n},woodlandEdge:function(){return s}});var n=1,s=2,a=3}}]);