"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9976,2938],{5120:function(o,t,e){e.r(t),e.d(t,{default:function(){return p}});var i=e(4035),s=e(3769),n=e(2938);function a(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function c(o,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](o):o instanceof t}var p=function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this;a(this,o),this.hasFood=!1,this.update=function(o){var t=o.zombies,e=(o.humans,o.safezones,o.food),i=o.toFoodMap,s=o.toHomeMap,n=o.speed;n&&(r.velocity.setMag(n),r.speed=n),r.handleFood(),r.avoid(t),r.handleMovement(i,s),r.checkForFood(e)},this.show=function(){r.p5.push(),r.p5.translate(r.pos.x,r.pos.y),r.p5.rotate(r.velocity.heading()+r.p5.radians(90)),r.p5.imageMode(r.p5.CENTER),r.p5.image(r.img,0,0,r.config.imageSize,r.config.imageSize),r.p5.pop(),r.p5.push();var o=r.velocity.copy().setMag(10);r.p5.strokeWeight(2),r.p5.stroke(255),r.p5.line(r.pos.x,r.pos.y,r.pos.x+o.x,r.pos.y+o.y),r.p5.pop(),r.showFoodLevel()},this.handleFood=function(){r.food<=50?r.hasFood=!1:r.hasFood=!0,r.p5.frameCount%r.foodDeclineRate===0&&r.food>0&&(r.food-=1)},this.checkForFood=function(o){var t=r;o.forEach((function(e){t.pos.dist(e.pos)<10&&(t.food+=50,o.splice(o.indexOf(e),1))}))},this.showFoodLevel=function(){r.p5.pop(),r.p5.textSize(12),r.p5.fill(r.colour),r.p5.text("".concat(r.food),r.pos.x+8,r.pos.y-5),r.p5.push()},this.handleMovement=function(o,t){r.p5.random()<.2&&(r.acceleration=i.Vector.random2D().setMag(.2)),r.handleTrailMaps(o,t),r.velocity.add(r.acceleration),r.velocity.limit(r.speed),r.pos.add(r.velocity),(0,n.constrain)(r.p5,r.pos,r.velocity,r.acceleration)},this.handleTrailMaps=function(o,t){r.p5.frameCount%5===0&&(r.hasFood?(o.setVal(r.pos.x,r.pos.y,255),r.acceleration=t.getWeakest(r.pos.x,r.pos.y,r.hasFood).setMag(1)):(t.setVal(r.pos.x,r.pos.y,255),r.acceleration=o.getWeakest(r.pos.x,r.pos.y,r.hasFood).setMag(1)))},this.avoid=function(o){var t=r,e=null,n=1/0;return o.forEach((function(o){var i=t.pos.dist(o.pos);i<n&&(n=i,e=o)})),c(e,s.default)?(e.pos.dist(r.pos)<r.avoidanceDistance&&(r.acceleration=i.Vector.sub(r.pos,e.pos)),e):null},this.p5=t.p5,this.config=t,this.colour=this.p5.color("#3087B4"),this.avoidanceDistance=50,this.speed=t.speed,this.size=10,this.food=10,this.foodDeclineRate=t.foodDeclineRate,this.img=t.humanImg,this.acceleration=this.p5.createVector(0,0),this.velocity=i.Vector.random2D(),this.velocity.setMag(t.speed),this.pos=e&&p?this.p5.createVector(e,p):this.p5.createVector(this.p5.random(this.p5.width),this.p5.random(this.p5.height))}},3769:function(o,t,e){e.r(t),e.d(t,{default:function(){return p}});var i=e(4035),s=e(5120),n=e(2938);function a(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function c(o,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](o):o instanceof t}var p=function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this;a(this,o),this.show=function(){r.p5.push(),r.p5.translate(r.pos.x,r.pos.y),r.p5.rotate(r.velocity.heading()),r.p5.imageMode(r.p5.CENTER),r.p5.image(r.img,0,0,r.config.imageSize,r.config.imageSize),r.p5.pop(),r.showFood()},this.showFood=function(){r.p5.pop(),r.p5.textSize(12),r.p5.fill(r.colour),r.p5.text("".concat(r.food),r.pos.x+8,r.pos.y-5),r.p5.push()},this.drawDirection=function(){r.p5.push(),r.p5.strokeWeight(2),r.p5.stroke(1);var o=r.velocity.copy();o.setMag(r.size/2),r.p5.translate(r.pos.x,r.pos.y),r.p5.line(0,0,o.x,o.y),r.p5.pop()},this.update=function(o,t,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i&&(r.velocity.setMag(i),r.speed=i),r.handleMovement(),r.handleFood(),r.chase(t,o),r.avoid(e)},this.handleFood=function(){r.p5.frameCount%r.foodDeclineRate===0&&r.food>0&&(r.food-=1)},this.handleMovement=function(){r.p5.random()<.4&&(r.acceleration=i.Vector.random2D().setMag(.2)),r.velocity.add(r.acceleration),r.velocity.limit(r.speed),r.pos.add(r.velocity),(0,n.constrain)(r.p5,r.pos,r.velocity,r.acceleration)},this.avoid=function(o){var t=r;o.forEach((function(o){t.pos.dist(o.pos)<100&&(t.acceleration=i.Vector.sub(t.pos,o.pos))}))},this.chase=function(t,e){var n=r,a=null,p=1/0;if(t.forEach((function(o){var t=n.pos.dist(o.pos);t<p&&(p=t,t<100&&(a=o))})),c(a,s.default)&&(r.acceleration=i.Vector.sub(a.pos,r.pos),r.pos.dist(a.pos)<5)){r.food+=1,t.splice(t.indexOf(a),1);var h=a.pos.x+r.p5.random(-10,10),l=a.pos.y+r.p5.random(-10,10);e.push(new o(r.config,h,l))}},this.p5=t.p5,this.config=t,this.size=10,this.img=t.zombieImg,this.colour=this.p5.color(161,184,66),this.food=this.p5.floor(this.p5.random(10,20)),this.foodDeclineRate=t.foodDeclineRate,this.speed=t.speed,this.wanderStrength=.1,this.acceleration=this.p5.createVector(0,0),this.velocity=i.Vector.random2D(),this.velocity.setMag(t.speed),this.pos=e&&p?this.p5.createVector(e,p):this.p5.createVector(this.p5.random(this.p5.width),this.p5.random(this.p5.height))}},2938:function(o,t,e){e.r(t),e.d(t,{constrain:function(){return s},drawDirection:function(){return i}});var i=function(o,t,e,i){o.push(),o.strokeWeight(2),o.stroke(1);var s=e.copy();s.setMag(i/2),o.translate(t.x,t.y),o.line(0,0,s.x,s.y),o.pop()},s=function(o,t,e,i){i.set(0,0),t.x<=0?(e.mult(o.createVector(-1,1)),t.x=1):t.x>=o.width?(e.mult(o.createVector(-1,1)),t.x=o.width-1):t.y<=0?(e.mult(o.createVector(1,-1)),t.y=1):t.y>=o.height&&(e.mult(o.createVector(1,-1)),t.y=o.height-1)}}}]);