"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3864,3189],{3189:function(t,e,s){s.r(e),s.d(e,{default:function(){return o}});var i=s(4035);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function t(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this;if(n(this,t),this.genes=[],this.mutation=function(){for(var t=0;t<o.genes.length;t++){o.p5.random(1)<.01&&(o.genes[t]=i.Vector.random2D(),o.genes[t].setMag(o.speed))}},this.boogieWith=function(e){for(var s=[],i=o.p5.floor(o.p5.random(o.genes.length)),n=0;n<o.genes.length;n++)s[n]=n>i?o.genes[n]:e.genes[n];return new t(o.simSettings,s)},this.simSettings=e,this.p5=e.p5,this.speed=e.speed,s)this.genes=s;else for(var a=0;a<this.simSettings.lifespan;a++){var r=i.Vector.random2D();r.setMag(this.speed),this.genes.push(r)}}},3864:function(t,e,s){s.r(e),s.d(e,{default:function(){return o}});var i=s(3189);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function t(e,s,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this;n(this,t),this.obstacleArr=[],this.update=function(){if(r.location++,!r.completed&&!r.crashed){var t=r;r.p5.dist(r.pos.x,r.pos.y,r.target.x,r.target.y)<10&&(r.completed=!0),r.obstacleArr.forEach((function(e){t.p5.dist(t.pos.x,t.pos.y,e.pos.x,e.pos.y)<e.size/2&&(t.crashed=!0)}));(r.pos.x<0||r.pos.x>r.p5.width-0||r.pos.y<0||r.pos.y>r.p5.height-0)&&(r.crashed=!0),r.applyForce(r.dna.genes[r.location]),r.vel.add(r.acc),r.pos.add(r.vel),r.acc.mult(0)}},this.show=function(){r.completed||r.crashed||(r.p5.push(),r.p5.translate(r.pos.x,r.pos.y),r.p5.rotate(r.vel.heading()+-80),r.p5.imageMode(r.p5.CENTER),r.p5.image(r.simSettings.rocketImg,0,0,51,51),r.p5.pop())},this.applyForce=function(t){r.acc.add(t)},this.calcFitness=function(){var t=r.p5.dist(r.pos.x,r.pos.y,r.target.x,r.target.y);return r.fitness=r.p5.map(t,0,r.p5.width,r.p5.width,0),!!r.completed||(r.crashed?(r.fitness/=10,!1):void 0)},this.p5=e.p5,this.simSettings=e,this.img=e.rocketImg,this.target=s,this.obstacleArr=o,this.pos=this.p5.createVector(this.p5.width/2,this.p5.height),this.vel=this.p5.createVector(),this.acc=this.p5.createVector(),this.completed=!1,this.crashed=!1,this.dna=a||new i.default(this.simSettings),this.location=0,this.fitness=0}}}]);