"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8219,5519,3189,3734,2992,7884,818,3864,846,4914],{2992:function(t,e,n){n.r(e),e.default={src:"/_next/static/media/moon.7042dc81.gif",height:160,width:160}},7884:function(t,e,n){n.r(e),e.default={src:"/_next/static/media/obstacle3.52b1bd97.png",height:2161,width:3170,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAeklEQVR42mP4//8/IwMUvP/whYkBCazcdJiRYfPe02AFX3/+y3z17uvtO49eHzxy5lbJ////EYpfvf866cb9F/8vXH/8f8POk//7Zqz5X9M6cwFY8sOX33y3H71uX7/j5PJZS3aubulftiSntHtVVHL5lKDILF4GQgAABy9AKIrBQqEAAAAASUVORK5CYII="}},818:function(t,e,n){n.r(e),e.default={src:"/_next/static/media/rocket.73a37e18.gif",height:512,width:512}},8219:function(t,e,n){n.r(e);var i=n(5893),s=(n(7294),n(3785)),o=n(5519);e.default=function(){return(0,i.jsx)(s.a,{sketch:o.sketch})}},3189:function(t,e,n){n.r(e),n.d(e,{default:function(){return o}});var i=n(4035);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this;if(s(this,t),this.genes=[],this.mutation=function(){for(var t=0;t<o.genes.length;t++){o.p5.random(1)<.01&&(o.genes[t]=i.Vector.random2D(),o.genes[t].setMag(o.speed))}},this.boogieWith=function(e){for(var n=[],i=o.p5.floor(o.p5.random(o.genes.length)),s=0;s<o.genes.length;s++)n[s]=s>i?o.genes[s]:e.genes[s];return new t(o.simSettings,n)},this.simSettings=e,this.p5=e.p5,this.speed=e.speed,n)this.genes=n;else for(var r=0;r<this.simSettings.lifespan;r++){var a=i.Vector.random2D();a.setMag(this.speed),this.genes.push(a)}}},5519:function(t,e,n){n.r(e),n.d(e,{sketch:function(){return c}});var i=n(846),s=n(4914),o=n(2992),r=n(818),a=n(7884),c=function(t){var e,n,c={p5:t,moonImg:t.loadImage(o.default.src),rocketImg:t.loadImage(r.default.src),obstacleImg:t.loadImage(a.default.src),lifespan:400,speed:.5,totalRockets:100,totalObstacles:30};t.setup=function(){t.createCanvas(t.windowWidth,t.windowHeight),n=new s.default(c,t.width/2,50,50),e=new i.default(c,n)},t.draw=function(){u(),e.run(),n.run(),e.count===c.lifespan&&e.createNextGeneration()},t.mouseClicked=function(){n.move(t.mouseX,t.mouseY)},t.mouseDragged=function(){n.move(t.mouseX,t.mouseY)};var u=function(){for(var e=t.color(0),n=t.color("#87CEEB"),i=0;i<t.height;i++){var s=t.map(i,0,t.height,0,1),o=t.lerpColor(e,n,s);t.stroke(o),t.line(0,i,t.width,i)}}}},3734:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var i=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.show=function(){n.p5.image(n.simSettings.obstacleImg,n.pos.x,n.pos.y,n.size,n.size)},this.checkCrash=function(t){n.p5.dist(n.pos.x,n.pos.y,t.x,t.y)<n.size&&console.log("crash")},this.simSettings=e,this.p5=e.p5,this.pos=this.p5.createVector(this.p5.random(0,this.p5.width),this.p5.random(this.p5.height/4,this.p5.height)),this.size=50}},3864:function(t,e,n){n.r(e),n.d(e,{default:function(){return o}});var i=n(3189);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function t(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this;s(this,t),this.obstacleArr=[],this.update=function(){if(a.location++,!a.completed&&!a.crashed){var t=a;a.p5.dist(a.pos.x,a.pos.y,a.target.x,a.target.y)<10&&(a.completed=!0),a.obstacleArr.forEach((function(e){t.p5.dist(t.pos.x,t.pos.y,e.pos.x,e.pos.y)<e.size/2&&(t.crashed=!0)}));(a.pos.x<0||a.pos.x>a.p5.width-0||a.pos.y<0||a.pos.y>a.p5.height-0)&&(a.crashed=!0),a.applyForce(a.dna.genes[a.location]),a.vel.add(a.acc),a.pos.add(a.vel),a.acc.mult(0)}},this.show=function(){a.completed||a.crashed||(a.p5.push(),a.p5.translate(a.pos.x,a.pos.y),a.p5.rotate(a.vel.heading()+-80),a.p5.imageMode(a.p5.CENTER),a.p5.image(a.simSettings.rocketImg,0,0,51,51),a.p5.pop())},this.applyForce=function(t){a.acc.add(t)},this.calcFitness=function(){var t=a.p5.dist(a.pos.x,a.pos.y,a.target.x,a.target.y);return a.fitness=a.p5.map(t,0,a.p5.width,a.p5.width,0),!!a.completed||(a.crashed?(a.fitness/=10,!1):void 0)},this.p5=e.p5,this.simSettings=e,this.img=e.rocketImg,this.target=n,this.obstacleArr=o,this.pos=this.p5.createVector(this.p5.width/2,this.p5.height),this.vel=this.p5.createVector(),this.acc=this.p5.createVector(),this.completed=!1,this.crashed=!1,this.dna=r||new i.default(this.simSettings),this.location=0,this.fitness=0}},846:function(t,e,n){n.r(e),n.d(e,{default:function(){return o}});var i=n(3864),s=n(3734);var o=function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rocketArr=[],this.matingPool=[],this.obstacleArr=[],this.run=function(){o.count++,o.p5.rectMode(o.p5.CENTER),o.rocketArr.forEach((function(t){t.update(),t.show()})),o.obstacleArr.forEach((function(t){t.show()}))},this.createNextGeneration=function(){o.evaluate(),o.breed()},this.evaluate=function(){var t=o;o.maxFitness=0,o.matingPool=[];var e=0;o.rocketArr.forEach((function(n){n.calcFitness()&&e++,n.fitness>t.maxFitness&&(t.maxFitness=n.fitness)})),console.log("Landed Rockets:",e,"\tCrashed Rockets:",o.simSettings.totalRockets-e),o.rocketArr.forEach((function(e){e.fitness/=t.maxFitness})),o.rocketArr.forEach((function(e){for(var n=100*e.fitness,i=0;i<n;i++)t.matingPool.push(e)}))},this.breed=function(){for(var t=[],e=0;e<o.rocketArr.length;e++){var n=o.p5.random(o.matingPool).dna,s=o.p5.random(o.matingPool).dna,r=n.boogieWith(s);r.mutation(),t.push(new i.default(o.simSettings,o.target,o.obstacleArr,r))}o.rocketArr=t,o.count=0},this.p5=e.p5,this.simSettings=e,this.lifespan=e.lifespan,this.target=n,this.maxFitness=0,this.count=0;for(var r=0;r<this.simSettings.totalObstacles;r++)this.obstacleArr.push(new s.default(e));for(var a=0;a<this.simSettings.totalRockets;a++)this.rocketArr.push(new i.default(e,n,this.obstacleArr))}},4914:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var i=function t(e,n,i,s){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.run=function(){o.p5.imageMode(o.p5.CENTER),o.p5.image(o.img,o.x,o.y,o.size,o.size)},this.move=function(t,e){o.x=t,o.y=e},this.p5=e.p5,this.x=n,this.y=i,this.size=s,this.img=e.moonImg}},3785:function(t,e,n){n.d(e,{a:function(){return f}});const i=!0,s={Date:i,RegExp:i,String:i,Number:i};function o(t,e,n={cyclesFix:!0},i=[]){let r=[];const a=Array.isArray(t);for(const u in t){const c=t[u],h=a?+u:u;if(!(u in e)){r.push({type:"REMOVE",path:[h],oldValue:t[u]});continue}const f=e[u],l="object"===typeof c&&"object"===typeof f;if(!(c&&f&&l)||s[Object.getPrototypeOf(c).constructor.name]||n.cyclesFix&&i.includes(c))c===f||l&&(isNaN(c)?c+""===f+"":+c===+f)||r.push({path:[h],type:"CHANGE",value:f,oldValue:c});else{const t=o(c,f,n,n.cyclesFix?i.concat([c]):[]);r.push.apply(r,t.map((t=>(t.path.unshift(h),t))))}}const c=Array.isArray(e);for(const s in e)s in t||r.push({type:"CREATE",path:[c?+s:s],value:e[s]});return r}var r=n(4035),a=n.n(r),c=n(7294),u="undefined"===typeof window?c.useEffect:c.useLayoutEffect;function h(t){var e;null===(e=t.current)||void 0===e||e.remove(),t.current=void 0}var f=(0,c.memo)((function(t){var e=t.sketch,n=t.children,i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n}(t,["sketch","children"]),s=(0,c.createRef)(),o=(0,c.useRef)();return u((function(){null!==s.current&&(h(o),o.current=function(t,e){return new(a())(t,e)}(e,s.current))}),[e]),u((function(){var t,e;return null===(e=null===(t=o.current)||void 0===t?void 0:t.updateWithProps)||void 0===e?void 0:e.call(t,i)}),[i]),u((function(){return function(){return h(o)}}),[]),c.createElement("div",{ref:s},n)}),(function(t,e){return 0===o(t,e).length}))}}]);