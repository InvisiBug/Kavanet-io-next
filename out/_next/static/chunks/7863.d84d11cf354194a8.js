"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7863,5877],{7863:function(t,n,s){s.r(n),s.d(n,{default:function(){return a}});var i=s(4035),o=s(5877);function r(t,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n}var a=function t(n){var s=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.rays=[],this.show=function(){},this.look=function(t){var n=s;s.rays.forEach((function(s){var o=n,a=null,e=1/0;t.forEach((function(t){var n=s.cast(t);if(r(n,i.Vector)){var p=i.Vector.dist(o.pos,n);p<e&&(e=p,a=n)}})),r(a,i.Vector)&&(n.p5.stroke(255,50),n.p5.ellipse(a.x,a.y,3),n.p5.line(n.pos.x,n.pos.y,a.x,a.y))}))},this.update=function(t,n){s.pos.set(t,n)},this.p5=n.p5,this.config=n,this.totalRays=100,this.pos=this.p5.createVector(this.p5.random(this.p5.width/2),this.p5.random(this.p5.height/2));for(var a=0;a<360;a+=360/this.totalRays)this.rays.push(new o.default(n,this.pos,this.p5.radians(a)))}},5877:function(t,n,s){s.r(n),s.d(n,{default:function(){return o}});var i=s(4035);var o=function t(n,s,o){var r=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.length=10,this.show=function(){r.p5.stroke(255),r.p5.push(),r.p5.translate(r.pos.x,r.pos.y),r.p5.line(0,0,r.dir.x*r.length,r.dir.y*r.length),r.p5.pop()},this.lookAt=function(t,n){r.dir.x=t-r.pos.x,r.dir.y=n-r.pos.y,r.dir.normalize()},this.cast=function(t){var n=t.startpoint.x,s=t.startpoint.y,i=t.endpoint.x,o=t.endpoint.y,a=r.pos.x,e=r.pos.y,p=r.pos.x+r.dir.x,h=r.pos.y+r.dir.y,c=(n-i)*(e-h)-(s-o)*(a-p);if(0===c)return null;var f=((n-a)*(e-h)-(s-e)*(a-p))/c;if(f>0&&f<1&&-((n-i)*(s-e)-(s-o)*(n-a))/c>0){var u=r.p5.createVector();return u.x=n+f*(i-n),u.y=s+f*(o-s),u}return!1},this.p5=n.p5,this.pos=s,this.dir=i.Vector.fromAngle(o)}}}]);